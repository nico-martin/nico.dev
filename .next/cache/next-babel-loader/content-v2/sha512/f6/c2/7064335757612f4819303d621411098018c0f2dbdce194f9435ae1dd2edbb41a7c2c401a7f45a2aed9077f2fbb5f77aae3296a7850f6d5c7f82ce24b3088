{"ast":null,"code":"export var supportsAvif = function supportsAvif() {\n  return new Promise(function (resolve, reject) {\n    if (!createImageBitmap) {\n      reject();\n    }\n\n    var avifData = 'data:image/avif;base64,AAAAFGZ0eXBhdmlmAAAAAG1pZjEAAACgbWV0YQAAAAAAAAAOcGl0bQAAAAAAAQAAAB5pbG9jAAAAAEQAAAEAAQAAAAEAAAC8AAAAGwAAACNpaW5mAAAAAAABAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAARWlwcnAAAAAoaXBjbwAAABRpc3BlAAAAAAAAAAQAAAAEAAAADGF2MUOBAAAAAAAAFWlwbWEAAAAAAAAAAQABAgECAAAAI21kYXQSAAoIP8R8hAQ0BUAyDWeeUy0JG+QAACANEkA=';\n    fetch(avifData).then(function (r) {\n      return r.blob();\n    }).then(function (blob) {\n      return createImageBitmap(blob);\n    }).then(function () {\n      return resolve(true);\n    })[\"catch\"](function () {\n      return reject();\n    });\n  });\n};\nexport var supportedImageFormat = function supportedImageFormat() {\n  return new Promise(function (resolve, reject) {\n    var avifData = 'data:image/avif;base64,AAAAFGZ0eXBhdmlmAAAAAG1pZjEAAACgbWV0YQAAAAAAAAAOcGl0bQAAAAAAAQAAAB5pbG9jAAAAAEQAAAEAAQAAAAEAAAC8AAAAGwAAACNpaW5mAAAAAAABAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAARWlwcnAAAAAoaXBjbwAAABRpc3BlAAAAAAAAAAQAAAAEAAAADGF2MUOBAAAAAAAAFWlwbWEAAAAAAAAAAQABAgECAAAAI21kYXQSAAoIP8R8hAQ0BUAyDWeeUy0JG+QAACANEkA=';\n    var webpData = 'data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoCAAEAAQAcJaQAA3AA/v3AgAA=';\n    var avifblob = fetch(avifData);\n    var webpblob = fetch(webpData);\n    Promise.allSettled([fetch(avifData), fetch(webpData)]).then(function (results) {\n      console.log(results);\n      resolve('jpg');\n    });\n  });\n};","map":{"version":3,"sources":["C:/Users/admin/Documents/Dev/nico.dev/utils/images.ts"],"names":["supportsAvif","Promise","resolve","reject","createImageBitmap","avifData","fetch","then","r","blob","supportedImageFormat","webpData","avifblob","webpblob","allSettled","results","console","log"],"mappings":"AAAA,OAAO,IAAMA,YAAY,GAAG,SAAfA,YAAe;AAAA,SAC1B,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAC/B,QAAI,CAACC,iBAAL,EAAwB;AACtBD,MAAAA,MAAM;AACP;;AAED,QAAME,QAAQ,GACZ,yTADF;AAGAC,IAAAA,KAAK,CAACD,QAAD,CAAL,CACGE,IADH,CACQ,UAACC,CAAD;AAAA,aAAOA,CAAC,CAACC,IAAF,EAAP;AAAA,KADR,EAEGF,IAFH,CAEQ,UAACE,IAAD;AAAA,aAAUL,iBAAiB,CAACK,IAAD,CAA3B;AAAA,KAFR,EAGGF,IAHH,CAGQ;AAAA,aAAML,OAAO,CAAC,IAAD,CAAb;AAAA,KAHR,WAIS;AAAA,aAAMC,MAAM,EAAZ;AAAA,KAJT;AAKD,GAbD,CAD0B;AAAA,CAArB;AAgBP,OAAO,IAAMO,oBAAoB,GAAG,SAAvBA,oBAAuB;AAAA,SAClC,IAAIT,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAC/B,QAAME,QAAQ,GACZ,yTADF;AAEA,QAAMM,QAAQ,GACZ,qFADF;AAEA,QAAMC,QAAQ,GAAGN,KAAK,CAACD,QAAD,CAAtB;AACA,QAAMQ,QAAQ,GAAGP,KAAK,CAACK,QAAD,CAAtB;AACAV,IAAAA,OAAO,CAACa,UAAR,CAAmB,CAACR,KAAK,CAACD,QAAD,CAAN,EAAkBC,KAAK,CAACK,QAAD,CAAvB,CAAnB,EAAuDJ,IAAvD,CAA4D,UAACQ,OAAD,EAAa;AACvEC,MAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACAb,MAAAA,OAAO,CAAC,KAAD,CAAP;AACD,KAHD;AAID,GAXD,CADkC;AAAA,CAA7B","sourcesContent":["export const supportsAvif = (): Promise<true> =>\n  new Promise((resolve, reject) => {\n    if (!createImageBitmap) {\n      reject();\n    }\n\n    const avifData =\n      'data:image/avif;base64,AAAAFGZ0eXBhdmlmAAAAAG1pZjEAAACgbWV0YQAAAAAAAAAOcGl0bQAAAAAAAQAAAB5pbG9jAAAAAEQAAAEAAQAAAAEAAAC8AAAAGwAAACNpaW5mAAAAAAABAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAARWlwcnAAAAAoaXBjbwAAABRpc3BlAAAAAAAAAAQAAAAEAAAADGF2MUOBAAAAAAAAFWlwbWEAAAAAAAAAAQABAgECAAAAI21kYXQSAAoIP8R8hAQ0BUAyDWeeUy0JG+QAACANEkA=';\n\n    fetch(avifData)\n      .then((r) => r.blob())\n      .then((blob) => createImageBitmap(blob))\n      .then(() => resolve(true))\n      .catch(() => reject());\n  });\n\nexport const supportedImageFormat = (): Promise<'avif' | 'webp' | 'jpg'> =>\n  new Promise((resolve, reject) => {\n    const avifData =\n      'data:image/avif;base64,AAAAFGZ0eXBhdmlmAAAAAG1pZjEAAACgbWV0YQAAAAAAAAAOcGl0bQAAAAAAAQAAAB5pbG9jAAAAAEQAAAEAAQAAAAEAAAC8AAAAGwAAACNpaW5mAAAAAAABAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAARWlwcnAAAAAoaXBjbwAAABRpc3BlAAAAAAAAAAQAAAAEAAAADGF2MUOBAAAAAAAAFWlwbWEAAAAAAAAAAQABAgECAAAAI21kYXQSAAoIP8R8hAQ0BUAyDWeeUy0JG+QAACANEkA=';\n    const webpData =\n      'data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoCAAEAAQAcJaQAA3AA/v3AgAA=';\n    const avifblob = fetch(avifData);\n    const webpblob = fetch(webpData);\n    Promise.allSettled([fetch(avifData), fetch(webpData)]).then((results) => {\n      console.log(results);\n      resolve('jpg');\n    });\n  });\n"]},"metadata":{},"sourceType":"module"}